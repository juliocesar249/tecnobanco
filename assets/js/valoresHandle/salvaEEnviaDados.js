import{Service}from"./../classes/Service.js";import{adicionaNaTabela}from"./../views/tabela.js";function salvaDados(r,e){Service.abreConexcao().then(e=>{const o=e.transaction(["valoresDeEnergia"],"readwrite").objectStore("valoresDeEnergia");let a=o.add(r);a.onsuccess=()=>{console.log("dados incluidos com sucesso"),adicionaNaTabela(r)},a.onerror=e=>{console.log(e.target.error)}})}function importaDados(){Service.abreConexcao().then(e=>{const o=e.transaction(["valoresDeEnergia"],"readwrite").objectStore("valoresDeEnergia");let a=o.openCursor();const r=[];a.onsuccess=e=>{let o=e.target.result;if(o){e=o.value;r.push(e),o.continue()}else for(let e=0;e<r.length;e++)adicionaNaTabela(r[e])},a.onerror=e=>{console.log(e.target.error.name)}})}export{salvaDados,importaDados};